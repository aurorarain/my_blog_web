# 📋 更新日志

## 🎉 最新更新 (2026-01-30)

### ✨ 新增功能

#### 1. 删除文章时同步 GitHub
- **文章列表删除**：点击删除按钮时，如果文章已同步到 GitHub，会提示输入 Token 以同步删除远程文件
- **编辑页面删除**：在编辑页面点击"🗑️ 删除"按钮，可以同时删除本地和 GitHub 文件
- **灵活选择**：可以选择仅删除本地文章，或同时删除远程文件

#### 2. 修改元数据时自动更新 GitHub 文件路径
- **智能检测**：修改文章标题或分类时，系统会自动检测是否需要更新 GitHub 文件
- **路径更新**：如果标题或分类改变，会删除旧路径的文件，在新路径创建文件
- **用户确认**：操作前会提示用户确认，避免误操作

### 🔧 改进说明

#### 删除功能增强
```
之前：删除文章仅删除本地数据，GitHub 文件需要手动删除
现在：提供 Token 可同步删除 GitHub 文件，保持数据一致性
```

#### 元数据修改增强
```
之前：修改标题/分类后，GitHub 文件路径不会更新，导致路径不匹配
现在：自动检测变化，提示用户同步更新，删除旧文件并创建新文件
```

### 📝 使用示例

#### 示例 1：删除已同步的文章
```
1. 在文章列表点击"删除"按钮
2. 输入主密码：jzh0128
3. 系统提示：此文章已同步到 GitHub，确定要删除吗？
4. 点击确定
5. 输入 GitHub Token（或跳过仅删除本地）
6. 完成删除
```

#### 示例 2：修改文章分类
```
1. 点击文章的"编辑"按钮
2. 修改分类：随笔 → 编程技术
3. 勾选"发布到 GitHub 仓库"
4. 输入 GitHub Token
5. 输入主密码：jzh0128
6. 点击"保存"
7. 系统提示：检测到分类已更改，是否同步更新 GitHub？
8. 点击确定
9. 旧文件 Essay/文章.html 被删除
10. 新文件 Coding/文章.html 被创建
```

### 🎯 功能对比

| 操作 | 之前 | 现在 |
|------|------|------|
| 删除文章 | 仅删除本地 | 可选同步删除 GitHub |
| 修改标题 | GitHub 路径不变 | 自动更新 GitHub 路径 |
| 修改分类 | GitHub 目录不变 | 自动更新 GitHub 目录 |
| 数据一致性 | 可能不一致 | 保持一致 |

### 🔒 安全性

- 所有删除操作都需要主密码确认
- GitHub 同步操作需要提供 Token
- 重要操作前都会弹出确认提示
- Token 不会被保存，仅在当前操作中使用

### 📚 相关文档

- [GitHub 同步功能使用指南](./GitHub同步使用指南.md)
- [快速开始](./快速开始.md)

---

## 📅 历史版本

### v1.1.0 (2026-01-30)
- ✅ 新增：删除文章时同步 GitHub
- ✅ 新增：修改元数据时自动更新 GitHub 文件路径
- ✅ 改进：删除功能增强，支持两种删除方式
- ✅ 改进：元数据修改增强，自动检测变化

### v1.0.0 (2026-01-29)
- ✅ 基础功能：文章创建、编辑、删除
- ✅ GitHub 同步：文章内容上传
- ✅ 封面上传：本地图片上传到 GitHub
- ✅ 分类管理：按分类自动归档
- ✅ 富文本编辑器：Quill.js 集成

---

**感谢使用！如有问题请查看使用指南或联系开发者。** 🎉

